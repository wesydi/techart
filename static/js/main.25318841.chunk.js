(this.webpackJsonptechart=this.webpackJsonptechart||[]).push([[0],{55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),r=n(6),c=n.n(r),i=n(8),u=n(7),l=n(4),d=n(3),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{answers:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ANSWER":return Object(d.a)(Object(d.a)({},e),{},{answers:Object(d.a)(Object(d.a)({},e.answers),{},Object(l.a)({},t.question,t.answer))});case"CLEAR_ANSWERS":return Object(d.a)(Object(d.a)({},e),{},{answers:{}});default:return e}},o=n(13),b=n.n(o),h=n(23),m=n(5),p=n(24),O=n.n(p),f=(n(55),n(56),function(e){var t=e.handleChangeInput,n=e.type,s=e.min,r=e.name,c=e.pattern;return Object(a.jsx)("input",{className:"input",onChange:function(e){return t(e.target)},type:n,min:s,"data-name":r,pattern:c})});f.defaultProps={handleChangeInput:function(){},type:"",min:0,name:"",pattern:""};var x=f,g=(n(57),function(e){var t=e.currentQuestion,n=e.answers,s=e.handleClick,r=e.handleChangeInput,c=e.summary;return Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)("div",{className:"main__header",children:Object(a.jsx)("span",{className:"main__text",children:c?"ok"===c.result?"\u0423\u0441\u043f\u0435\u0448\u043d\u043e":"\u041e\u0448\u0438\u0431\u043a\u0430":t.question})}),Object(a.jsx)("div",{className:"main__answers",children:c?Object(a.jsx)("span",{className:"main__text ".concat("error"===c.result?"main__text_error":null),children:c.message}):"list"===t.type?Object(a.jsx)("ul",{className:"main__list",onClick:function(e){s(Number(e.target.getAttribute("data-value")),e.currentTarget)},children:Object.keys(n).map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)("span",{"data-value":e,className:"main__answer",children:n[e]})},e)}))}):"input"===t.type?Object(a.jsx)("div",{className:"inputBlock",children:n.map((function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x,{handleChangeInput:r,name:e,type:"number",min:1,pattern:"[0-9]*"}),t!==n.length-1?Object(a.jsx)("span",{className:"inputBlock__divider",children:"X"}):null]})}))}):void 0})]})});g.defaultProps={answers:[],currentQuestion:{},handleClick:function(){},handleChangeInput:function(){},summary:null};var w=g,v=(n(58),function(e){var t=e.text,n=e.handleClick,s=e.disabled;return Object(a.jsx)("button",{type:"button",disabled:s,onClick:n,children:t})});v.defaultProps={text:"",handleClick:function(){},disabled:!1};var y=v,N=function(e){return{addAnswer:function(t,n){return e({type:"ADD_ANSWER",question:t,answer:n})},clearAnswers:function(){return e({type:"CLEAR_ANSWERS"})}}},k=[{type:"list",name:"building",question:"\u0427\u0442\u043e \u0431\u0443\u0434\u0435\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u044c?",answers:{1:"\u0416\u0438\u043b\u043e\u0439 \u0434\u043e\u043c",2:"\u0413\u0430\u0440\u0430\u0436"}},{type:"input",name:"height",question:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u0442\u0430\u0436\u0435\u0439 (\u0447\u0438\u0441\u043b\u043e):",answers:["height"]},{type:"list",name:"material",question:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0441\u0442\u0435\u043d:",answers:{1:{1:"\u041a\u0438\u0440\u043f\u0438\u0447",2:"\u0428\u043b\u0430\u043a\u043e\u0431\u043b\u043e\u043a",3:"\u0414\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0439 \u0431\u0440\u0443\u0441"},2:{2:"\u0428\u043b\u0430\u043a\u043e\u0431\u043b\u043e\u043a",4:"\u041c\u0435\u0442\u0430\u043b\u043b",5:"\u0421\u0435\u043d\u0434\u0432\u0438\u0447-\u043f\u0430\u043d\u0435\u043b\u0438"}}},{type:"input",name:"sizes",question:"\u0414\u043b\u0438\u043d\u0430 \u0441\u0442\u0435\u043d (\u0432 \u043c\u0435\u0442\u0440\u0430\u0445):",answers:["sizex","sizey"]}],_=function(e){var t=e.answers,n=e.dispatch,r=Object(s.useState)(1),c=Object(m.a)(r,2),i=c[0],u=c[1],j=Object(s.useState)(0),o=Object(m.a)(j,2),p=o[0],f=o[1],x=Object(s.useState)({}),g=Object(m.a)(x,2),v=g[0],_=g[1],C=Object(s.useState)(!1),A=Object(m.a)(C,2),S=A[0],E=A[1],q=Object(s.useState)(null),I=Object(m.a)(q,2),R=I[0],T=I[1];Object(s.useEffect)(Object(h.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=11;break}return e.prev=1,e.next=4,O.a.get("https://data.techart.ru/lab/json/",{params:t});case 4:n=e.sent,T(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),T({result:"error",message:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[t,S]);var B=k[p],D=function(e,t){(e||"BUTTON"===t.tagName)&&("BUTTON"===t.tagName?Object.keys(v).forEach((function(e){N(n).addAnswer(e,v[e])})):N(n).addAnswer(B.name,e),p!==k.length-1?("building"===B.name&&2===e?f(p+2):f(p+1),u(i+1),_({})):E(!0))},P=function(){N(n).clearAnswers(),u(1),f(0),_({}),E(!1),T(null)};return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)("h3",{children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0446\u0435\u043d\u044b \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439"}),Object(a.jsx)("span",{className:"move",children:R?"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0440\u0430\u0441\u0441\u0447\u0435\u0442\u0430":"\u0428\u0430\u0433 ".concat(i)}),Object(a.jsx)(w,{summary:R,handleChangeInput:function(e){_(Object(d.a)(Object(d.a)({},v),{},Object(l.a)({},e.getAttribute("data-name"),Number(e.value))))},handleClick:D,currentQuestion:B,answers:"material"===k[p].name?B.answers[t.building]:B.answers}),Object(a.jsx)("div",{className:"buttons",children:R?Object(a.jsx)(y,{text:"\u041d\u043e\u0432\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442",handleClick:function(){return P()}}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(y,{handleClick:function(){return P()},text:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(a.jsx)(y,{handleClick:function(e){return D(null,e.currentTarget)},disabled:function(){if("list"===B.type)return!0;var e=Object.keys(v).filter((function(e){return String(v[e])>0}));return B.answers.length!==e.length}(),text:B===k[k.length-1]?"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442":"\u0414\u0430\u043b\u0435\u0435"})]})})]})};_.defaultProps={answers:[],dispatch:function(){}};var C=Object(i.b)((function(e){return{answers:e.answers}}))(_),A=(n(59),Object(u.b)(j));c.a.render(Object(a.jsx)(i.a,{store:A,children:Object(a.jsx)(C,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.25318841.chunk.js.map